<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="We will deal more about callbacks, promises, async  await in this tutorial">
    <title>Promise2</title>
</head>

<body>
    <div class="container">We will deal more about callbacks, promises, async await in this tutorial</div>
    <script>
        // Promise States
        // | 
        // |-->Pending--->undefined
        // |-->Fulfilled --->resolve
        // |--> Rejected --->reject
        // let prom1=new Promise((resolve,reject)=>{
        //     console.log("I am a Promise..")
        //     // reject("Error Occured..!")
        //     resolve("Done ..!!")
        // })

        // prom1.then((res)=>{
        //     console.log("succesful ",res)
        // }).catch((error)=>{
        //     console.log("broken pipe... ",error)
        // })

        // function getData(data)
        // {
        //     return new Promise((resolve, reject)=>
        //     {
        //         setTimeout(() => {
        //             console.log("I am a promise 2...")
        //             console.log("Data :",data)
        //             resolve("success..");
        //             // reject(404);
        //         }, 5000);
        //     })
        // }


        // chaining Promises

        // function asyncFunc1(data) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             console.log("Data 1 ")
        //             resolve("success..");
        //             // reject(404);
        //         }, 5000);
        //     })
        // }

        // function asyncFunc2(data) {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             console.log("Data 2")
        //             resolve("success..");
        //             // reject(404);
        //         }, 5000);
        //     })
        // }

        // console.log("Fetching Data 1...")
        // asyncFunc1().then(() => {
        //     console.log("Fetching Data 2...")
        //     asyncFunc2().then(() => {
        //     })
        // })

        //async and await.. 

        // async function myfunc() {
        //     console.log("Hello I have become a promise because of async keyword")
        // }

        // function api() {
        //     return new Promise((resolve, reject) => {
        //         setTimeout(() => {
        //             console.log("Weather Data...");
        //             resolve(200);
        //         }, 4000);
        //     });
        // }
        // await api()  we can't use directly but we can put it inside a await function

        // async function callwether() {
        //     await api(); //1st call
        //     await api(); //2nd call
        // }


        function getData(dataId) {
            return new Promise((reslove, reject) => {
                setTimeout(() => {
                    console.log("Data  .. : ", dataId);
                    reslove(200)
                }, 2000);
            })
        }
        // async function get_All_Data() {
        //     console.log("Getting data 1")
        //     await getData(1);
        //     console.log("Getting data 2")
        //     await getData(2);
        //     console.log("Getting data 3")
        //     await getData(3);
        //     console.log("Getting data 4")
        //     await getData(4);
        //     console.log("Getting data 5")
        //     await getData(5);   
        // }

        // we could aslo use IIFE 
          (async function (){
            console.log("Getting data 1")
            await getData(1);
            console.log("Getting data 2")
            await getData(2);
            console.log("Getting data 3")
            await getData(3);
            console.log("Getting data 4")
            await getData(4);
            console.log("Getting data 5")
            await getData(5);   
        })()

    </script>
</body>

</html>